"use strict";

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _server = _interopRequireDefault(require("react-dom/server"));

var _reactAddonsTestUtils = _interopRequireDefault(require("react-addons-test-utils"));

var _object = _interopRequireDefault(require("object.values"));

var _reactIs = require("react-is");

var _enzyme = require("enzyme");

var _enzymeAdapterUtils = require("enzyme-adapter-utils");

var _ifReact = _interopRequireDefault(require("enzyme-adapter-react-helper/build/ifReact"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function compositeTypeToNodeType(type) {
  switch (type) {
    case 0:
    case 1:
      return 'class';

    case 2:
      return 'function';

    default:
      throw new Error("Enzyme Internal Error: unknown composite type ".concat(type));
  }
}

function childrenFromInst(inst, el) {
  if (inst._renderedChildren) {
    return (0, _object["default"])(inst._renderedChildren);
  }

  if (el.props) {
    return (0, _object["default"])({
      '.0': el.props.children
    });
  }

  return [];
}

function nodeType(inst) {
  if (inst._compositeType != null) {
    return compositeTypeToNodeType(inst._compositeType);
  }

  return 'host';
}

function instanceToTree(inst) {
  if (!inst || _typeof(inst) !== 'object') {
    return inst;
  }

  var el = inst._currentElement;

  if (el == null || el === false) {
    return null;
  }

  if (_typeof(el) !== 'object') {
    return el;
  }

  if (inst._renderedChildren) {
    return {
      nodeType: nodeType(inst),
      type: el.type,
      props: el.props,
      key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(el.key),
      ref: el.ref,
      instance: inst._instance || inst._hostNode || null,
      rendered: childrenFromInst(inst, el).map(instanceToTree)
    };
  }

  if (inst._hostNode) {
    return {
      nodeType: nodeType(inst),
      type: el.type,
      props: el.props,
      key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(el.key),
      ref: el.ref,
      instance: inst._instance || inst._hostNode || null,
      rendered: childrenFromInst(inst, el).map(instanceToTree)
    };
  }

  if (inst._renderedComponent) {
    return {
      nodeType: nodeType(inst),
      type: el.type,
      props: el.props,
      key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(el.key),
      ref: el.ref,
      instance: inst._instance || inst._hostNode || null,
      rendered: instanceToTree(inst._renderedComponent)
    };
  }

  return {
    nodeType: nodeType(inst),
    type: el.type,
    props: el.props,
    key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(el.key),
    ref: el.ref,
    instance: inst._instance || null,
    rendered: childrenFromInst(inst, el).map(instanceToTree)
  };
}

var eventOptions = {
  animation: true
};

var ReactFifteenFourAdapter = /*#__PURE__*/function (_EnzymeAdapter) {
  _inherits(ReactFifteenFourAdapter, _EnzymeAdapter);

  var _super = _createSuper(ReactFifteenFourAdapter);

  function ReactFifteenFourAdapter() {
    var _this;

    _classCallCheck(this, ReactFifteenFourAdapter);

    _this = _super.call(this);
    var lifecycles = _this.options.lifecycles;
    _this.options = _objectSpread(_objectSpread({}, _this.options), {}, {
      supportPrevContextArgumentOfComponentDidUpdate: true,
      // TODO: remove, semver-major
      legacyContextMode: 'parent',
      lifecycles: _objectSpread(_objectSpread({}, lifecycles), {}, {
        componentDidUpdate: {
          prevContext: true
        },
        getChildContext: {
          calledByRenderer: true
        }
      })
    });
    return _this;
  }

  _createClass(ReactFifteenFourAdapter, [{
    key: "createMountRenderer",
    value: function createMountRenderer(options) {
      (0, _enzymeAdapterUtils.assertDomAvailable)('mount');
      var domNode = options.attachTo || global.document.createElement('div');
      var instance = null;
      var adapter = this;
      return {
        render: function render(el, context, callback) {
          if (instance === null) {
            var type = el.type,
                props = el.props,
                ref = el.ref;

            var wrapperProps = _objectSpread({
              Component: type,
              wrappingComponentProps: options.wrappingComponentProps,
              props: props,
              context: context
            }, ref && {
              refProp: ref
            });

            var ReactWrapperComponent = (0, _enzymeAdapterUtils.createMountWrapper)(el, _objectSpread(_objectSpread({}, options), {}, {
              adapter: adapter
            }));

            var wrappedEl = /*#__PURE__*/_react["default"].createElement(ReactWrapperComponent, wrapperProps);

            instance = _reactDom["default"].render(wrappedEl, domNode);

            if (typeof callback === 'function') {
              callback();
            }
          } else {
            instance.setChildProps(el.props, context, callback);
          }
        },
        unmount: function unmount() {
          _reactDom["default"].unmountComponentAtNode(domNode);

          instance = null;
        },
        getNode: function getNode() {
          if (!instance) {
            return null;
          }

          return (0, _enzymeAdapterUtils.getNodeFromRootFinder)(adapter.isCustomComponent, instanceToTree(instance._reactInternalInstance), options);
        },
        simulateEvent: function simulateEvent(node, event, mock) {
          var mappedEvent = (0, _enzymeAdapterUtils.mapNativeEventNames)(event, eventOptions);
          var eventFn = _reactAddonsTestUtils["default"].Simulate[mappedEvent];

          if (!eventFn) {
            throw new TypeError("ReactWrapper::simulate() event '".concat(event, "' does not exist"));
          } // eslint-disable-next-line react/no-find-dom-node


          eventFn(_reactDom["default"].findDOMNode(node.instance), mock);
        },
        batchedUpdates: function batchedUpdates(fn) {
          return _reactDom["default"].unstable_batchedUpdates(fn);
        },
        getWrappingComponentRenderer: function getWrappingComponentRenderer() {
          return _objectSpread(_objectSpread({}, this), (0, _enzymeAdapterUtils.getWrappingComponentMountRenderer)({
            toTree: function toTree(inst) {
              return instanceToTree(inst._reactInternalInstance);
            },
            getMountWrapperInstance: function getMountWrapperInstance() {
              return instance;
            }
          }));
        }
      };
    }
  }, {
    key: "createShallowRenderer",
    value: function createShallowRenderer()
    /* options */
    {
      var renderer = _reactAddonsTestUtils["default"].createRenderer();

      var isDOM = false;
      var cachedNode = null;
      return {
        render: function render(el, context) {
          cachedNode = el;
          /* eslint consistent-return: 0 */

          if (typeof el.type === 'string') {
            isDOM = true;
          } else {
            isDOM = false;
            return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              return renderer.render(el, context);
            });
          }
        },
        unmount: function unmount() {
          renderer.unmount();
        },
        getNode: function getNode() {
          if (isDOM) {
            return (0, _enzymeAdapterUtils.elementToTree)(cachedNode);
          }

          var output = renderer.getRenderOutput();
          return {
            nodeType: compositeTypeToNodeType(renderer._instance._compositeType),
            type: cachedNode.type,
            props: cachedNode.props,
            key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(cachedNode.key),
            ref: cachedNode.ref,
            instance: renderer._instance._instance,
            rendered: (0, _enzymeAdapterUtils.elementToTree)(output)
          };
        },
        simulateEvent: function simulateEvent(node, event) {
          for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
            args[_key - 2] = arguments[_key];
          }

          var handler = node.props[(0, _enzymeAdapterUtils.propFromEvent)(event, eventOptions)];

          if (handler) {
            (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              // TODO(lmr): create/use synthetic events
              // TODO(lmr): emulate React's event propagation
              _reactDom["default"].unstable_batchedUpdates(function () {
                handler.apply(void 0, args);
              });
            });
          }
        },
        batchedUpdates: function batchedUpdates(fn) {
          return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
            return _reactDom["default"].unstable_batchedUpdates(fn);
          });
        }
      };
    }
  }, {
    key: "createStringRenderer",
    value: function createStringRenderer(options) {
      return {
        render: function render(el, context) {
          if (options.context && (el.type.contextTypes || options.childContextTypes)) {
            var childContextTypes = _objectSpread(_objectSpread({}, el.type.contextTypes || {}), options.childContextTypes);

            var ContextWrapper = (0, _enzymeAdapterUtils.createRenderWrapper)(el, context, childContextTypes);
            return _server["default"].renderToStaticMarkup( /*#__PURE__*/_react["default"].createElement(ContextWrapper));
          }

          return _server["default"].renderToStaticMarkup(el);
        }
      };
    } // Provided a bag of options, return an `EnzymeRenderer`. Some options can be implementation
    // specific, like `attach` etc. for React, but not part of this interface explicitly.
    // eslint-disable-next-line class-methods-use-this, no-unused-vars

  }, {
    key: "createRenderer",
    value: function createRenderer(options) {
      switch (options.mode) {
        case _enzyme.EnzymeAdapter.MODES.MOUNT:
          return this.createMountRenderer(options);

        case _enzyme.EnzymeAdapter.MODES.SHALLOW:
          return this.createShallowRenderer(options);

        case _enzyme.EnzymeAdapter.MODES.STRING:
          return this.createStringRenderer(options);

        default:
          throw new Error("Enzyme Internal Error: Unrecognized mode: ".concat(options.mode));
      }
    }
  }, {
    key: "wrap",
    value: function wrap(element) {
      return (0, _enzymeAdapterUtils.wrap)(element);
    } // converts an RSTNode to the corresponding JSX Pragma Element. This will be needed
    // in order to implement the `Wrapper.mount()` and `Wrapper.shallow()` methods, but should
    // be pretty straightforward for people to implement.
    // eslint-disable-next-line class-methods-use-this, no-unused-vars

  }, {
    key: "nodeToElement",
    value: function nodeToElement(node) {
      if (!node || _typeof(node) !== 'object') return null;
      return /*#__PURE__*/_react["default"].createElement(node.type, (0, _enzymeAdapterUtils.propsWithKeysAndRef)(node));
    }
  }, {
    key: "elementToNode",
    value: function elementToNode(element) {
      return (0, _enzymeAdapterUtils.elementToTree)(element);
    }
  }, {
    key: "nodeToHostNode",
    value: function nodeToHostNode(node) {
      return _reactDom["default"].findDOMNode(node.instance);
    }
  }, {
    key: "displayNameOfNode",
    value: function displayNameOfNode(node) {
      return (0, _enzymeAdapterUtils.displayNameOfNode)(node);
    }
  }, {
    key: "isValidElement",
    value: function isValidElement(element) {
      return (0, _reactIs.isElement)(element);
    }
  }, {
    key: "isValidElementType",
    value: function isValidElementType(object) {
      return (0, _reactIs.isValidElementType)(object);
    }
  }, {
    key: "isCustomComponent",
    value: function isCustomComponent(component) {
      return typeof component === 'function';
    }
  }, {
    key: "createElement",
    value: function createElement() {
      return /*#__PURE__*/_react["default"].createElement.apply(_react["default"], arguments);
    }
  }, {
    key: "invokeSetStateCallback",
    value: function invokeSetStateCallback(instance, callback) {
      var _this2 = this;

      // React in >= 15.4, and < 16 pass undefined to a setState callback
      var invoke = (0, _ifReact["default"])('^15.4', function () {
        callback.call(instance, undefined);
      }, function () {
        _get(_getPrototypeOf(ReactFifteenFourAdapter.prototype), "invokeSetStateCallback", _this2).call(_this2, instance, callback);
      });
      invoke();
    }
  }, {
    key: "wrapWithWrappingComponent",
    value: function wrapWithWrappingComponent(node, options) {
      return {
        RootFinder: _enzymeAdapterUtils.RootFinder,
        node: (0, _enzymeAdapterUtils.wrapWithWrappingComponent)(_react["default"].createElement, node, options)
      };
    }
  }]);

  return ReactFifteenFourAdapter;
}(_enzyme.EnzymeAdapter);

module.exports = ReactFifteenFourAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SZWFjdEZpZnRlZW5Gb3VyQWRhcHRlci5qcyJdLCJuYW1lcyI6WyJjb21wb3NpdGVUeXBlVG9Ob2RlVHlwZSIsInR5cGUiLCJFcnJvciIsImNoaWxkcmVuRnJvbUluc3QiLCJpbnN0IiwiZWwiLCJfcmVuZGVyZWRDaGlsZHJlbiIsInByb3BzIiwiY2hpbGRyZW4iLCJub2RlVHlwZSIsIl9jb21wb3NpdGVUeXBlIiwiaW5zdGFuY2VUb1RyZWUiLCJfY3VycmVudEVsZW1lbnQiLCJrZXkiLCJyZWYiLCJpbnN0YW5jZSIsIl9pbnN0YW5jZSIsIl9ob3N0Tm9kZSIsInJlbmRlcmVkIiwibWFwIiwiX3JlbmRlcmVkQ29tcG9uZW50IiwiZXZlbnRPcHRpb25zIiwiYW5pbWF0aW9uIiwiUmVhY3RGaWZ0ZWVuRm91ckFkYXB0ZXIiLCJsaWZlY3ljbGVzIiwib3B0aW9ucyIsInN1cHBvcnRQcmV2Q29udGV4dEFyZ3VtZW50T2ZDb21wb25lbnREaWRVcGRhdGUiLCJsZWdhY3lDb250ZXh0TW9kZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZDb250ZXh0IiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2FsbGVkQnlSZW5kZXJlciIsImRvbU5vZGUiLCJhdHRhY2hUbyIsImdsb2JhbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkYXB0ZXIiLCJyZW5kZXIiLCJjb250ZXh0IiwiY2FsbGJhY2siLCJ3cmFwcGVyUHJvcHMiLCJDb21wb25lbnQiLCJ3cmFwcGluZ0NvbXBvbmVudFByb3BzIiwicmVmUHJvcCIsIlJlYWN0V3JhcHBlckNvbXBvbmVudCIsIndyYXBwZWRFbCIsIlJlYWN0IiwiUmVhY3RET00iLCJzZXRDaGlsZFByb3BzIiwidW5tb3VudCIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJnZXROb2RlIiwiaXNDdXN0b21Db21wb25lbnQiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwic2ltdWxhdGVFdmVudCIsIm5vZGUiLCJldmVudCIsIm1vY2siLCJtYXBwZWRFdmVudCIsImV2ZW50Rm4iLCJUZXN0VXRpbHMiLCJTaW11bGF0ZSIsIlR5cGVFcnJvciIsImZpbmRET01Ob2RlIiwiYmF0Y2hlZFVwZGF0ZXMiLCJmbiIsInVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIiwiZ2V0V3JhcHBpbmdDb21wb25lbnRSZW5kZXJlciIsInRvVHJlZSIsImdldE1vdW50V3JhcHBlckluc3RhbmNlIiwicmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsImlzRE9NIiwiY2FjaGVkTm9kZSIsIm91dHB1dCIsImdldFJlbmRlck91dHB1dCIsImFyZ3MiLCJoYW5kbGVyIiwiY29udGV4dFR5cGVzIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJDb250ZXh0V3JhcHBlciIsIlJlYWN0RE9NU2VydmVyIiwicmVuZGVyVG9TdGF0aWNNYXJrdXAiLCJtb2RlIiwiRW56eW1lQWRhcHRlciIsIk1PREVTIiwiTU9VTlQiLCJjcmVhdGVNb3VudFJlbmRlcmVyIiwiU0hBTExPVyIsImNyZWF0ZVNoYWxsb3dSZW5kZXJlciIsIlNUUklORyIsImNyZWF0ZVN0cmluZ1JlbmRlcmVyIiwiZWxlbWVudCIsIm9iamVjdCIsImNvbXBvbmVudCIsImludm9rZSIsImNhbGwiLCJ1bmRlZmluZWQiLCJSb290RmluZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFFQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFpQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLFNBQVNBLHVCQUFULENBQWlDQyxJQUFqQyxFQUF1QztBQUNyQyxVQUFRQSxJQUFSO0FBQ0UsU0FBSyxDQUFMO0FBQ0EsU0FBSyxDQUFMO0FBQVEsYUFBTyxPQUFQOztBQUNSLFNBQUssQ0FBTDtBQUFRLGFBQU8sVUFBUDs7QUFDUjtBQUNFLFlBQU0sSUFBSUMsS0FBSix5REFBMkRELElBQTNELEVBQU47QUFMSjtBQU9EOztBQUVELFNBQVNFLGdCQUFU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OztBQWdPdENlLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjlFLHVCQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCwgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCBSZWFjdERPTVNlcnZlciBmcm9tICdyZWFjdC1kb20vc2VydmVyJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCwgaW1wb3J0L2V4dGVuc2lvbnNcbmltcG9ydCBUZXN0VXRpbHMgZnJvbSAncmVhY3QtYWRkb25zLXRlc3QtdXRpbHMnO1xuaW1wb3J0IHZhbHVlcyBmcm9tICdvYmplY3QudmFsdWVzJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNWYWxpZEVsZW1lbnRUeXBlIH0gZnJvbSAncmVhY3QtaXMnO1xuaW1wb3J0IHsgRW56eW1lQWRhcHRlciB9IGZyb20gJ2VuenltZSc7XG5pbXBvcnQge1xuICBkaXNwbGF5TmFtZU9mTm9kZSxcbiAgZWxlbWVudFRvVHJlZSxcbiAgbWFwTmF0aXZlRXZlbnROYW1lcyxcbiAgcHJvcEZyb21FdmVudCxcbiAgd2l0aFNldFN0YXRlQWxsb3dlZCxcbiAgYXNzZXJ0RG9tQXZhaWxhYmxlLFxuICBjcmVhdGVSZW5kZXJXcmFwcGVyLFxuICBjcmVhdGVNb3VudFdyYXBwZXIsXG4gIHByb3BzV2l0aEtleXNBbmRSZWYsXG4gIGVuc3VyZUtleU9yVW5kZWZpbmVkLFxuICB3cmFwLFxuICBSb290RmluZGVyLFxuICBnZXROb2RlRnJvbVJvb3RGaW5kZXIsXG4gIHdyYXBXaXRoV3JhcHBpbmdDb21wb25lbnQsXG4gIGdldFdyYXBwaW5nQ29tcG9uZW50TW91bnRSZW5kZXJlcixcbn0gZnJvbSAnZW56eW1lLWFkYXB0ZXItdXRpbHMnO1xuaW1wb3J0IGlmUmVhY3QgZnJvbSAnZW56eW1lLWFkYXB0ZXItcmVhY3QtaGVscGVyL2J1aWxkL2lmUmVhY3QnO1xuXG5mdW5jdGlvbiBjb21wb3NpdGVUeXBlVG9Ob2RlVHlwZSh0eXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIDE6IHJldHVybiAnY2xhc3MnO1xuICAgIGNhc2UgMjogcmV0dXJuICdmdW5jdGlvbic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRW56eW1lIEludGVybmFsIEVycm9yOiB1bmtub3duIGNvbXBvc2l0ZSB0eXBlICR7dHlwZX1gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGlsZHJlbkZyb21JbnN0KGluc3QsIGVsKSB7XG4gIGlmIChpbnN0Ll9yZW5kZXJlZENoaWxkcmVuKSB7XG4gICAgcmV0dXJuIHZhbHVlcyhpbnN0Ll9yZW5kZXJlZENoaWxkcmVuKTtcbiAgfVxuICBpZiAoZWwucHJvcHMpIHtcbiAgICByZXR1cm4gdmFsdWVzKHsgJy4wJzogZWwucHJvcHMuY2hpbGRyZW4gfSk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBub2RlVHlwZShpbnN0KSB7XG4gIGlmIChpbnN0Ll9jb21wb3NpdGVUeXBlICE9IG51bGwpIHtcbiAgICByZXR1cm4gY29tcG9zaXRlVHlwZVRvTm9kZVR5cGUoaW5zdC5fY29tcG9zaXRlVHlwZSk7XG4gIH1cbiAgcmV0dXJuICdob3N0Jztcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2VUb1RyZWUoaW5zdCkge1xuICBpZiAoIWluc3QgfHwgdHlwZW9mIGluc3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGluc3Q7XG4gIH1cbiAgY29uc3QgZWwgPSBpbnN0Ll9jdXJyZW50RWxlbWVudDtcbiAgaWYgKGVsID09IG51bGwgfHwgZWwgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZWw7XG4gIH1cbiAgaWYgKGluc3QuX3JlbmRlcmVkQ2hpbGRyZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZVR5cGU6IG5vZGVUeXBlKGluc3QpLFxuICAgICAgdHlwZTogZWwudHlwZSxcbiAgICAgIHByb3BzOiBlbC5wcm9wcyxcbiAgICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQoZWwua2V5KSxcbiAgICAgIHJlZjogZWwucmVmLFxuICAgICAgaW5zdGFuY2U6IGluc3QuX2luc3RhbmNlIHx8IGluc3QuX2hvc3ROb2RlIHx8IG51bGwsXG4gICAgICByZW5kZXJlZDogY2hpbGRyZW5Gcm9tSW5zdChpbnN0LCBlbCkubWFwKGluc3RhbmNlVG9UcmVlKSxcbiAgICB9O1xuICB9XG4gIGlmIChpbnN0Ll9ob3N0Tm9kZSkge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlVHlwZTogbm9kZVR5cGUoaW5zdCksXG4gICAgICB0eXBlOiBlbC50eXBlLFxuICAgICAgcHJvcHM6IGVsLnByb3BzLFxuICAgICAga2V5OiBlbnN1cmVLZXlPclVuZGVmaW5lZChlbC5rZXkpLFxuICAgICAgcmVmOiBlbC5yZWYsXG4gICAgICBpbnN0YW5jZTogaW5zdC5faW5zdGFuY2UgfHwgaW5zdC5faG9zdE5vZGUgfHwgbnVsbCxcbiAgICAgIHJlbmRlcmVkOiBjaGlsZHJlbkZyb21JbnN0KGluc3QsIGVsKS5tYXAoaW5zdGFuY2VUb1RyZWUpLFxuICAgIH07XG4gIH1cbiAgaWYgKGluc3QuX3JlbmRlcmVkQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVUeXBlOiBub2RlVHlwZShpbnN0KSxcbiAgICAgIHR5cGU6IGVsLnR5cGUsXG4gICAgICBwcm9wczogZWwucHJvcHMsXG4gICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKGVsLmtleSksXG4gICAgICByZWY6IGVsLnJlZixcbiAgICAgIGluc3RhbmNlOiBpbnN0Ll9pbnN0YW5jZSB8fCBpbnN0Ll9ob3N0Tm9kZSB8fCBudWxsLFxuICAgICAgcmVuZGVyZWQ6IGluc3RhbmNlVG9UcmVlKGluc3QuX3JlbmRlcmVkQ29tcG9uZW50KSxcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbm9kZVR5cGU6IG5vZGVUeXBlKGluc3QpLFxuICAgIHR5cGU6IGVsLnR5cGUsXG4gICAgcHJvcHM6IGVsLnByb3BzLFxuICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQoZWwua2V5KSxcbiAgICByZWY6IGVsLnJlZixcbiAgICBpbnN0YW5jZTogaW5zdC5faW5zdGFuY2UgfHwgbnVsbCxcbiAgICByZW5kZXJlZDogY2hpbGRyZW5Gcm9tSW5zdChpbnN0LCBlbCkubWFwKGluc3RhbmNlVG9UcmVlKSxcbiAgfTtcbn1cblxuY29uc3QgZXZlbnRPcHRpb25zID0geyBhbmltYXRpb246IHRydWUgfTtcblxuY2xhc3MgUmVhY3RGaWZ0ZWVuRm91ckFkYXB0ZXIgZXh0ZW5kcyBFbnp5bWVBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IHsgbGlmZWN5Y2xlcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIHN1cHBvcnRQcmV2Q29udGV4dEFyZ3VtZW50T2ZDb21wb25lbnREaWRVcGRhdGU6IHRydWUsIC8vIFRPRE86IHJlbW92ZSwgc2VtdmVyLW1ham9yXG4gICAgICBsZWdhY3lDb250ZXh0TW9kZTogJ3BhcmVudCcsXG4gICAgICBsaWZlY3ljbGVzOiB7XG4gICAgICAgIC4uLmxpZmVjeWNsZXMsXG4gICAgICAgIGNvbXBvbmVudERpZFVwZGF0ZToge1xuICAgICAgICAgIHByZXZDb250ZXh0OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBnZXRDaGlsZENvbnRleHQ6IHtcbiAgICAgICAgICBjYWxsZWRCeVJlbmRlcmVyOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgY3JlYXRlTW91bnRSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgYXNzZXJ0RG9tQXZhaWxhYmxlKCdtb3VudCcpO1xuICAgIGNvbnN0IGRvbU5vZGUgPSBvcHRpb25zLmF0dGFjaFRvIHx8IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsZXQgaW5zdGFuY2UgPSBudWxsO1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICByZW5kZXIoZWwsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHJlZiB9ID0gZWw7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlclByb3BzID0ge1xuICAgICAgICAgICAgQ29tcG9uZW50OiB0eXBlLFxuICAgICAgICAgICAgd3JhcHBpbmdDb21wb25lbnRQcm9wczogb3B0aW9ucy53cmFwcGluZ0NvbXBvbmVudFByb3BzLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgLi4uKHJlZiAmJiB7IHJlZlByb3A6IHJlZiB9KSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IFJlYWN0V3JhcHBlckNvbXBvbmVudCA9IGNyZWF0ZU1vdW50V3JhcHBlcihlbCwgeyAuLi5vcHRpb25zLCBhZGFwdGVyIH0pO1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRFbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RXcmFwcGVyQ29tcG9uZW50LCB3cmFwcGVyUHJvcHMpO1xuICAgICAgICAgIGluc3RhbmNlID0gUmVhY3RET00ucmVuZGVyKHdyYXBwZWRFbCwgZG9tTm9kZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5zdGFuY2Uuc2V0Q2hpbGRQcm9wcyhlbC5wcm9wcywgY29udGV4dCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkb21Ob2RlKTtcbiAgICAgICAgaW5zdGFuY2UgPSBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldE5vZGUoKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Tm9kZUZyb21Sb290RmluZGVyKFxuICAgICAgICAgIGFkYXB0ZXIuaXNDdXN0b21Db21wb25lbnQsXG4gICAgICAgICAgaW5zdGFuY2VUb1RyZWUoaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSksXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBzaW11bGF0ZUV2ZW50KG5vZGUsIGV2ZW50LCBtb2NrKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZEV2ZW50ID0gbWFwTmF0aXZlRXZlbnROYW1lcyhldmVudCwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgY29uc3QgZXZlbnRGbiA9IFRlc3RVdGlscy5TaW11bGF0ZVttYXBwZWRFdmVudF07XG4gICAgICAgIGlmICghZXZlbnRGbikge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFJlYWN0V3JhcHBlcjo6c2ltdWxhdGUoKSBldmVudCAnJHtldmVudH0nIGRvZXMgbm90IGV4aXN0YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWZpbmQtZG9tLW5vZGVcbiAgICAgICAgZXZlbnRGbihSZWFjdERPTS5maW5kRE9NTm9kZShub2RlLmluc3RhbmNlKSwgbW9jayk7XG4gICAgICB9LFxuICAgICAgYmF0Y2hlZFVwZGF0ZXMoZm4pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0RE9NLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzKGZuKTtcbiAgICAgIH0sXG4gICAgICBnZXRXcmFwcGluZ0NvbXBvbmVudFJlbmRlcmVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgLi4uZ2V0V3JhcHBpbmdDb21wb25lbnRNb3VudFJlbmRlcmVyKHtcbiAgICAgICAgICAgIHRvVHJlZTogKGluc3QpID0+IGluc3RhbmNlVG9UcmVlKGluc3QuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSksXG4gICAgICAgICAgICBnZXRNb3VudFdyYXBwZXJJbnN0YW5jZTogKCkgPT4gaW5zdGFuY2UsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBjcmVhdGVTaGFsbG93UmVuZGVyZXIoLyogb3B0aW9ucyAqLykge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gVGVzdFV0aWxzLmNyZWF0ZVJlbmRlcmVyKCk7XG4gICAgbGV0IGlzRE9NID0gZmFsc2U7XG4gICAgbGV0IGNhY2hlZE5vZGUgPSBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICByZW5kZXIoZWwsIGNvbnRleHQpIHtcbiAgICAgICAgY2FjaGVkTm9kZSA9IGVsO1xuICAgICAgICAvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46IDAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBlbC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlzRE9NID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0RPTSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB3aXRoU2V0U3RhdGVBbGxvd2VkKCgpID0+IHJlbmRlcmVyLnJlbmRlcihlbCwgY29udGV4dCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgcmVuZGVyZXIudW5tb3VudCgpO1xuICAgICAgfSxcbiAgICAgIGdldE5vZGUoKSB7XG4gICAgICAgIGlmIChpc0RPTSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50VG9UcmVlKGNhY2hlZE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHJlbmRlcmVyLmdldFJlbmRlck91dHB1dCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vZGVUeXBlOiBjb21wb3NpdGVUeXBlVG9Ob2RlVHlwZShyZW5kZXJlci5faW5zdGFuY2UuX2NvbXBvc2l0ZVR5cGUpLFxuICAgICAgICAgIHR5cGU6IGNhY2hlZE5vZGUudHlwZSxcbiAgICAgICAgICBwcm9wczogY2FjaGVkTm9kZS5wcm9wcyxcbiAgICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKGNhY2hlZE5vZGUua2V5KSxcbiAgICAgICAgICByZWY6IGNhY2hlZE5vZGUucmVmLFxuICAgICAgICAgIGluc3RhbmNlOiByZW5kZXJlci5faW5zdGFuY2UuX2luc3RhbmNlLFxuICAgICAgICAgIHJlbmRlcmVkOiBlbGVtZW50VG9UcmVlKG91dHB1dCksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgc2ltdWxhdGVFdmVudChub2RlLCBldmVudCwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gbm9kZS5wcm9wc1twcm9wRnJvbUV2ZW50KGV2ZW50LCBldmVudE9wdGlvbnMpXTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICB3aXRoU2V0U3RhdGVBbGxvd2VkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8obG1yKTogY3JlYXRlL3VzZSBzeW50aGV0aWMgZXZlbnRzXG4gICAgICAgICAgICAvLyBUT0RPKGxtcik6IGVtdWxhdGUgUmVhY3QncyBldmVudCBwcm9wYWdhdGlvblxuICAgICAgICAgICAgUmVhY3RET00udW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgICAgICBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiYXRjaGVkVXBkYXRlcyhmbikge1xuICAgICAgICByZXR1cm4gd2l0aFNldFN0YXRlQWxsb3dlZCgoKSA9PiBSZWFjdERPTS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyhmbikpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgY3JlYXRlU3RyaW5nUmVuZGVyZXIob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICByZW5kZXIoZWwsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCAmJiAoZWwudHlwZS5jb250ZXh0VHlwZXMgfHwgb3B0aW9ucy5jaGlsZENvbnRleHRUeXBlcykpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgICAgIC4uLihlbC50eXBlLmNvbnRleHRUeXBlcyB8fCB7fSksXG4gICAgICAgICAgICAuLi5vcHRpb25zLmNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgQ29udGV4dFdyYXBwZXIgPSBjcmVhdGVSZW5kZXJXcmFwcGVyKGVsLCBjb250ZXh0LCBjaGlsZENvbnRleHRUeXBlcyk7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGV4dFdyYXBwZXIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdGF0aWNNYXJrdXAoZWwpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUHJvdmlkZWQgYSBiYWcgb2Ygb3B0aW9ucywgcmV0dXJuIGFuIGBFbnp5bWVSZW5kZXJlcmAuIFNvbWUgb3B0aW9ucyBjYW4gYmUgaW1wbGVtZW50YXRpb25cbiAgLy8gc3BlY2lmaWMsIGxpa2UgYGF0dGFjaGAgZXRjLiBmb3IgUmVhY3QsIGJ1dCBub3QgcGFydCBvZiB0aGlzIGludGVyZmFjZSBleHBsaWNpdGx5LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcywgbm8tdW51c2VkLXZhcnNcbiAgY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xuICAgIHN3aXRjaCAob3B0aW9ucy5tb2RlKSB7XG4gICAgICBjYXNlIEVuenltZUFkYXB0ZXIuTU9ERVMuTU9VTlQ6IHJldHVybiB0aGlzLmNyZWF0ZU1vdW50UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICBjYXNlIEVuenltZUFkYXB0ZXIuTU9ERVMuU0hBTExPVzogcmV0dXJuIHRoaXMuY3JlYXRlU2hhbGxvd1JlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgY2FzZSBFbnp5bWVBZGFwdGVyLk1PREVTLlNUUklORzogcmV0dXJuIHRoaXMuY3JlYXRlU3RyaW5nUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVuenltZSBJbnRlcm5hbCBFcnJvcjogVW5yZWNvZ25pemVkIG1vZGU6ICR7b3B0aW9ucy5tb2RlfWApO1xuICAgIH1cbiAgfVxuXG4gIHdyYXAoZWxlbWVudCkge1xuICAgIHJldHVybiB3cmFwKGVsZW1lbnQpO1xuICB9XG5cbiAgLy8gY29udmVydHMgYW4gUlNUTm9kZSB0byB0aGUgY29ycmVzcG9uZGluZyBKU1ggUHJhZ21hIEVsZW1lbnQuIFRoaXMgd2lsbCBiZSBuZWVkZWRcbiAgLy8gaW4gb3JkZXIgdG8gaW1wbGVtZW50IHRoZSBgV3JhcHBlci5tb3VudCgpYCBhbmQgYFdyYXBwZXIuc2hhbGxvdygpYCBtZXRob2RzLCBidXQgc2hvdWxkXG4gIC8vIGJlIHByZXR0eSBzdHJhaWdodGZvcndhcmQgZm9yIHBlb3BsZSB0byBpbXBsZW1lbnQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzLCBuby11bnVzZWQtdmFyc1xuICBub2RlVG9FbGVtZW50KG5vZGUpIHtcbiAgICBpZiAoIW5vZGUgfHwgdHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChub2RlLnR5cGUsIHByb3BzV2l0aEtleXNBbmRSZWYobm9kZSkpO1xuICB9XG5cbiAgZWxlbWVudFRvTm9kZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRUb1RyZWUoZWxlbWVudCk7XG4gIH1cblxuICBub2RlVG9Ib3N0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIFJlYWN0RE9NLmZpbmRET01Ob2RlKG5vZGUuaW5zdGFuY2UpO1xuICB9XG5cbiAgZGlzcGxheU5hbWVPZk5vZGUobm9kZSkge1xuICAgIHJldHVybiBkaXNwbGF5TmFtZU9mTm9kZShub2RlKTtcbiAgfVxuXG4gIGlzVmFsaWRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50KGVsZW1lbnQpO1xuICB9XG5cbiAgaXNWYWxpZEVsZW1lbnRUeXBlKG9iamVjdCkge1xuICAgIHJldHVybiBpc1ZhbGlkRWxlbWVudFR5cGUob2JqZWN0KTtcbiAgfVxuXG4gIGlzQ3VzdG9tQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIHJldHVybiB0eXBlb2YgY29tcG9uZW50ID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgY3JlYXRlRWxlbWVudCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoLi4uYXJncyk7XG4gIH1cblxuICBpbnZva2VTZXRTdGF0ZUNhbGxiYWNrKGluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgIC8vIFJlYWN0IGluID49IDE1LjQsIGFuZCA8IDE2IHBhc3MgdW5kZWZpbmVkIHRvIGEgc2V0U3RhdGUgY2FsbGJhY2tcbiAgICBjb25zdCBpbnZva2UgPSBpZlJlYWN0KFxuICAgICAgJ14xNS40JyxcbiAgICAgICgpID0+IHsgY2FsbGJhY2suY2FsbChpbnN0YW5jZSwgdW5kZWZpbmVkKTsgfSxcbiAgICAgICgpID0+IHsgc3VwZXIuaW52b2tlU2V0U3RhdGVDYWxsYmFjayhpbnN0YW5jZSwgY2FsbGJhY2spOyB9LFxuICAgICk7XG4gICAgaW52b2tlKCk7XG4gIH1cblxuICB3cmFwV2l0aFdyYXBwaW5nQ29tcG9uZW50KG5vZGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgUm9vdEZpbmRlcixcbiAgICAgIG5vZGU6IHdyYXBXaXRoV3JhcHBpbmdDb21wb25lbnQoUmVhY3QuY3JlYXRlRWxlbWVudCwgbm9kZSwgb3B0aW9ucyksXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RmlmdGVlbkZvdXJBZGFwdGVyO1xuIl19
//# sourceMappingURL=ReactFifteenFourAdapter.js.map