"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _object = _interopRequireDefault(require("object.getownpropertydescriptors"));

var _ifReact = _interopRequireDefault(require("./ifReact"));

function _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2["default"])(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2["default"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2["default"])(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function assertFunction(fn) {
  if (typeof fn !== 'function') {
    throw new TypeError('Component must be a function');
  }

  return fn;
}

function copyStatics(source, target) {
  assertFunction(source); // eslint-disable-next-line no-param-reassign

  target.displayName = source.displayName || source.name;

  var _gOPDs = (0, _object["default"])(source),
      oldProto = _gOPDs.prototype,
      descriptors = (0, _objectWithoutProperties2["default"])(_gOPDs, ["prototype"]);

  Object.defineProperties(target, descriptors);
  return target;
}

function nullToNoScript(fn) {
  // eslint-disable-next-line prefer-arrow-callback
  return copyStatics(fn, function NullHandler() {
    var element = fn.apply(void 0, arguments);
    return element === null ? /*#__PURE__*/_react["default"].createElement("noscript", null) : element;
  });
}

var maybeNullWrapper = (0, _ifReact["default"])('^0.14', nullToNoScript, assertFunction);

function safeSFC(fn) {
  return copyStatics(fn, /*#__PURE__*/function (_React$Component) {
    (0, _inherits2["default"])(SafeSFC, _React$Component);

    var _super = _createSuper(SafeSFC);

    function SafeSFC() {
      (0, _classCallCheck2["default"])(this, SafeSFC);
      return _super.apply(this, arguments);
    }

    (0, _createClass2["default"])(SafeSFC, [{
      key: "render",
      value: function render() {
        return maybeNullWrapper(fn(this.props, this.context));
      }
    }]);
    return SafeSFC;
  }(_react["default"].Component));
}

var _default = (0, _ifReact["default"])('>= 0.14', maybeNullWrapper, safeSFC);

exports["default"] = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zYWZlU0ZDLmpzeCJdLCJuYW1lcyI6WyJhc3NlcnRGdW5jdGlvbiIsImZuIiwiVHlwZUVycm9yIiwiY29weVN0YXRpY3MiLCJzb3VyY2UiLCJ0YXJnZXQiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJvbGRQcm90byIsInByb3RvdHlwZSIsImRlc2NyaXB0b3JzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsIm51bGxUb05vU2NyaXB0IiwiTnVsbEhhbmRsZXIiLCJlbGVtZW50IiwibWF5YmVOdWxsV3JhcHBlciIsInNhZmVTRkMiLCJwcm9wcyIsImNvbnRleHQiLCJSZWFjdCIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7Ozs7OztBQUVBLFNBQVNBLGNBQVQsQ0FBd0JDLEVBQXhCLEVBQTRCO0FBQzFCLE1BQUksT0FBT0EsRUFBUCxLQUFjLFVBQWxCLEVBQThCO0FBQzVCLFVBQU0sSUFBSUMsU0FBSixDQUFjLDhCQUFkLENBQU47QUFDRDs7QUFDRCxTQUFPRCxFQUFQO0FBQ0Q7O0FBRUQsU0FBU0UsV0FBVCxDQUFxQkMsTUFBckIsRUFBNkJDLE1BQTdCLEVBQXFDO0FBQ25DTCxFQUFBQSxjQUFjLENBQUNJLE1BQUQsQ0FBZCxDQURtQyxDQUduQzs7QUFDQUMsRUFBQUEsTUFBTSxDQUFDQyxXQUFQLEdBQXFCRixNQUFNLENBQUNFLFdBQVAsSUFBc0JGLE1BQU0sQ0FBQ0csSUFBbEQ7O0FBSm1DLGVBUS9CLHdCQUFNSCxNQUFOLENBUitCO0FBQUEsTUFNdEJJLFFBTnNCLFVBTWpDQyxTQU5pQztBQUFBLE1BTzlCQyxXQVA4Qjs7QUFTbkNDLEVBQUFBLE1BQU0sQ0FBQ0MsZ0JBQVAsQ0FBd0JQLE1BQXhCLEVBQWdDSyxXQUFoQztBQUVBLFNBQU9MLE1BQVA7QUFDRDs7QUFFRCxTQUFTUSxjQUFULENBQXdCWixFQUF4QixFQUE0QjtBQUMxQjtBQUNBLFNBQU9FLFdBQVcsQ0FBQ0YsRUFBRCxFQUFLLFNBQVNhLFdBQVQsR0FBOEI7QUFDbkQsUUFBTUMsT0FBTyxHQUFHZCxFQUFFLE1BQUYsbUJBQWhCO0FBQ0EsV0FBT2MsT0FBTyxLQUFLLElBQVosZ0JBQW1CLGlEQUFuQixHQUFrQ0EsT0FBekM7QUFDRCxHQUhpQixDQUFsQjtBQUlEOztBQUVELElBQU1DLGdCQUFnQixHQUFHLHlCQUFRLE9BQVIsRUFBaUJILGNBQWpCLEVBQWlDYixjQUFqQyxDQUF6Qjs7QUFFQSxTQUFTaUIsT0FBVCxDQUFpQmhCLEVBQWpCLEVBQXFCO0FBQ25CLFNBQU9FLFdBQVcsQ0FBQ0YsRUFBRDtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSwrQkFDUDtBQUNQLGVBQU9lLGdCQUFnQixDQUFDZixFQUFFLENBQUMsS0FBS2lCLEtBQU4sRUFBYSxLQUFLQyxPQUFsQixDQUFILENBQXZCO0FBQ0Q7QUFIZTtBQUFBO0FBQUEsSUFBMkJDLGtCQUFNQyxTQUFqQyxFQUFsQjtBQUtEOztlQUVjLHlCQUFRLFNBQVIsRUFBbUJMLGdCQUFuQixFQUFxQ0MsT0FBckMsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZ09QRHMgZnJvbSAnb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnMnO1xuXG5pbXBvcnQgaWZSZWFjdCBmcm9tICcuL2lmUmVhY3QnO1xuXG5mdW5jdGlvbiBhc3NlcnRGdW5jdGlvbihmbikge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29tcG9uZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gY29weVN0YXRpY3Moc291cmNlLCB0YXJnZXQpIHtcbiAgYXNzZXJ0RnVuY3Rpb24oc291cmNlKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgdGFyZ2V0LmRpc3BsYXlOYW1lID0gc291cmNlLmRpc3BsYXlOYW1lIHx8IHNvdXJjZS5uYW1lO1xuICBjb25zdCB7XG4gICAgcHJvdG90eXBlOiBvbGRQcm90byxcbiAgICAuLi5kZXNjcmlwdG9yc1xuICB9ID0gZ09QRHMoc291cmNlKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBkZXNjcmlwdG9ycyk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gbnVsbFRvTm9TY3JpcHQoZm4pIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1hcnJvdy1jYWxsYmFja1xuICByZXR1cm4gY29weVN0YXRpY3MoZm4sIGZ1bmN0aW9uIE51bGxIYW5kbGVyKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZm4oLi4uYXJncyk7XG4gICAgcmV0dXJuIGVsZW1lbnQgPT09IG51bGwgPyA8bm9zY3JpcHQgLz4gOiBlbGVtZW50O1xuICB9KTtcbn1cblxuY29uc3QgbWF5YmVOdWxsV3JhcHBlciA9IGlmUmVhY3QoJ14wLjE0JywgbnVsbFRvTm9TY3JpcHQsIGFzc2VydEZ1bmN0aW9uKTtcblxuZnVuY3Rpb24gc2FmZVNGQyhmbikge1xuICByZXR1cm4gY29weVN0YXRpY3MoZm4sIGNsYXNzIFNhZmVTRkMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBtYXliZU51bGxXcmFwcGVyKGZuKHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlmUmVhY3QoJz49IDAuMTQnLCBtYXliZU51bGxXcmFwcGVyLCBzYWZlU0ZDKTtcbiJdfQ==
//# sourceMappingURL=safeSFC.js.map